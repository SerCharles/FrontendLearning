# 第二次作业报告

软73 沈冠霖 2017013569

这次第2,3题相对简单就不提了,重点分析1题和4题(表达式求值)

## 1.第一题 ddl

### 1.1 时间的获取

因为年,月,日,时间的格式确定,日期和时间以空格分割,日期中间用-分割,时间用:分割,因此可以用split函数把字符串切分成时间,然后再用parseInt转换成数字,然后用Date的构造函数去将其转换为时间即可.

[Date的一种构造函数格式如下:](http://www.w3school.com.cn/js/js_dates.asp)

`new Date(year, month, day, hours, minutes, seconds, milliseconds)`

用这个就可以实现了

### 1.2 时间的排序和天数的计算

Date还有一个[getTime函数,](http://www.w3school.com.cn/js/js_date_methods.asp)返回1970年1月1日至这个时间的毫秒数,因为输入时间都在1970年后,因此可以使用这个,来比较时间的先后并排序.同时,计算delay天数,也可以用这个函数得到的毫秒值,除以86400000再向上取整(正整数结果要+1)来得到.

## 2.第四题 Operator

带优先级的表达式求值是一个常见问题,其一般思路是先用栈将表达式转换成逆波兰式,然后遍历逆波兰式求值,时间复杂度是O(n).

### 2.1 转化为逆波兰式

我参考了大二上学期数据结构课的ppt,转换步骤如下:

1.在栈底加上元素#

2.遍历表达式,得到当前的符号(如果当前是数字,还要用parseInt函数把整个数字都取出来)

​		2.1 如果当前是数字,则直接加入逆波兰式的尾端

​		2.2 如果当前是其他运算符(&,左右括号,#),则和栈顶符号比优先级.如果当前符号优先级更大,就进栈;如果优先级相等,则退栈一次(仅有左右括号,两个#两种情况);如果当前符号优先级小,则退栈,把原先栈顶符号(如果是&)放到逆波兰式尾端,并且继续和栈顶符号比较,直到停止;优先级大小如下:

![](priority.jpeg)

直到遍历完毕,栈推光才结束.

### 2.1 逆波兰式求值

这个则是先把逆波兰式的符号存成链表(这样才能O(1)的删除元素),然后找链表第一个运算符,以其前面第2个,第1个元素作为运算的左值和右值进行运算,删去前面2个元素,用计算结果替换这个运算符.遍历逆波兰式,直到只剩一个结果为止.

## 3.总结

Javascript的基本语法,比如循环,递归,条件,类和对象,大体和C++类似,好的是Javascript的字符串处理功能比C++强很多,而且数组也是动态的,和vector类似.但是需要注意变量的类型,以及var和let的区别.

需要注意的是,Javascript的编码规范,比如缩进,大括号,分号等和C++有较大不同,可以安装ESlint去自动修改编码格式.